const portPool=[];function boardcast(o){portPool.forEach((t=>{t.postMessage(o)}))}self.onconnect=function(o){console.log("worker内：连接事件触发");const t=o.ports[0];portPool.push(t),t.addEventListener("message",(o=>{if(console.log("worker 接收到了消息："+o.data),"Close"===o.data){const o=portPool.findIndex((o=>o===t));portPool.splice(o,1),t.close(),boardcast(portPool.length)}})),t.start(),boardcast(portPool.length)};