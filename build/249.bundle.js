(self.webpackChunkplanet_pc=self.webpackChunkplanet_pc||[]).push([[249],{9713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(3645),s=n.n(a)()((function(e){return e[1]}));s.push([e.id,"/*\n * @Author: liuxw@codoon.com \n * @Date: 2022-03-31 17:32:20 \n * @Last Modified by: liuxw@codoon.com\n * @Last Modified time: 2022-03-31 17:52:39\n */\n._3hjgv0savKmPsOaPBeXqtZ {\n  padding: 50px 40px;\n}\n._1S46gnL5hbcXRgZese2k9g {\n  font-size: 24px;\n  font-weight: bold;\n  padding: 14px 0;\n}\n._1xeJHq-9-6CvHqJy0wUFJP {\n  font-size: 20px;\n  font-weight: bold;\n  padding: 10px 0;\n}\n._33pfZ7Pnkk_5BJAtxW9OVM {\n  font-size: 16px;\n  padding: 6px 0;\n}\n._1DdoJAzGxrCn2NAKMsAuxr {\n  font-style: italic;\n}\n._1dPWQ0iNxYMpJnAFbHg17U {\n  font-weight: bold;\n}\n._2Mkmdp3ZE-gitwkg4LRmKR {\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n}\n._2Mkmdp3ZE-gitwkg4LRmKR ._1R67gO4kl2bpKxrwWIQfq6 {\n  margin-right: 20px;\n}\n._2Mkmdp3ZE-gitwkg4LRmKR ._1R67gO4kl2bpKxrwWIQfq6 label {\n  cursor: pointer;\n  color: blue;\n}\n._2Mkmdp3ZE-gitwkg4LRmKR ._1R67gO4kl2bpKxrwWIQfq6 label:hover {\n  opacity: 0.6;\n}\n._24tlO-u92eiVAcUJZ8L1w0 {\n  height: 300px;\n}\n._24tlO-u92eiVAcUJZ8L1w0 ._1HRH_RHlLkZHx2sqBbVm1F {\n  padding: 4px 0;\n}\n",""]),s.locals={page:"_3hjgv0savKmPsOaPBeXqtZ",title:"_1S46gnL5hbcXRgZese2k9g",subtitle:"_1xeJHq-9-6CvHqJy0wUFJP",text:"_33pfZ7Pnkk_5BJAtxW9OVM","is-italic":"_1DdoJAzGxrCn2NAKMsAuxr","is-bold":"_1dPWQ0iNxYMpJnAFbHg17U",selector:"_2Mkmdp3ZE-gitwkg4LRmKR",radio:"_1R67gO4kl2bpKxrwWIQfq6",list:"_24tlO-u92eiVAcUJZ8L1w0",item:"_1HRH_RHlLkZHx2sqBbVm1F"};const i=s},5249:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(6486),s=n(7294),i=n(3379),l=n.n(i),c=n(9713);l()(c.Z,{insert:"head",singleton:!1});const r=c.Z.locals||{};var m=["dishes","drinks"],d={dishes:{label:"菜品",list:["回锅肉","小炒肉","肉末茄子","韭黄炒肉","青椒肉丝","红烧鲫鱼"]},drinks:{label:"饮品",list:["可乐","雪碧","唯怡","加多宝"]}};const o=(0,s.memo)((function(e){var t=(0,s.useTransition)(),n=t[0],i=t[1],l=(0,s.useState)("dishes"),c=l[0],o=l[1],p=(0,s.useState)(c),u=p[0],g=p[1],x=(0,s.useMemo)((function(){return d[u].list}),[u]),b=(0,s.useCallback)((function(e){var t=e.target.value;o(t),i((function(){g(t)}),[])}),[o,g]);return s.createElement("div",{className:r.page},s.createElement("div",{className:r.title},"该页面使用 React v18 新特性：",s.createElement("span",{className:r["is-italic"]},"useTransition")),s.createElement("div",{className:r.subtitle},s.createElement("span",{className:r["is-italic"]},"useTransition")," 说明"),s.createElement("div",{className:r.text},s.createElement("span",{className:r["is-italic"]},"startTransition "),"包裹的更新，被视为",s.createElement("span",{className:r["is-bold"]}," 非紧急 "),"的更新。当有更多",s.createElement("span",{className:r["is-bold"]}," 紧急 "),"更新时，",s.createElement("span",{className:r["is-bold"]},"非紧急 "),"更新会被中断。如果",s.createElement("span",{className:r["is-bold"]}," 非紧急 "),"更新被中断，react 将丢弃之前未完成的渲染工作，只对之后最新的数据进行渲染"),s.createElement("div",{className:r.subtitle},"本示例说明"),s.createElement("div",{className:r.text},"在两个选项间切换时，单选按钮的值是需要立即更新反馈给用户的"),s.createElement("div",{className:r.text},"而不同选项对应的列表，则可延后更新。因为很可能用户选择到一个值后，又快速切换到另一个值，并不想看到中间值（列表数据计算 或 渲染很耗时时，更明显）"),s.createElement("div",{className:r.text},"为此，在切换选项时，会更新 2 个变量："),s.createElement("div",{className:r.text},"变量1：以正常方式更新的 shownType，对应按钮显示的值"),s.createElement("div",{className:r.text},"变量2：在 startTransition 中更新的 searchType，用于筛选出显示的列表项"),s.createElement("div",{className:r.text},"试着切换按钮，你将看到一闪而过的",s.createElement("span",{className:r["is-italic"]}," “恭喜你，看到了 useTransition isPending 的状态” ")),s.createElement("div",{className:r.selector},(0,a.map)(m,(function(e){return s.createElement("div",{className:r.radio,key:e},s.createElement("label",null,s.createElement("input",{type:"radio",name:"type",value:e,onChange:b,checked:c==e}),d[e].label))}))),n?s.createElement("div",{className:r.list},"恭喜你，看到了 useTransition isPending 的状态"):s.createElement("div",{className:r.list},(0,a.map)(x,(function(e){return s.createElement("div",{className:r.item,key:e},e)}))))}))}}]);